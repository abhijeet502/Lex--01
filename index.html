<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Hey ‚Äî I'm Lex 01 üéÄ‚ú® ‚Äî Abhi's Chatbot</title>
  <style>
    /* Simple modern dark theme (matches your portfolio look) */
    :root{
      --bg1:#0f172a;
      --bg2:#111827;
      --card: rgba(255,255,255,0.04);
      --muted:#94a3b8;
      --accent1:#38bdf8;
      --accent2:#a78bfa;
      --success:#7ee787;
      --danger:#fb7185;
      --glass: rgba(255,255,255,0.03);
      --glass-strong: rgba(255,255,255,0.06);
      --radius:16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: Inter, "Segoe UI", system-ui, -apple-system, "Helvetica Neue", Arial;
      background: linear-gradient(180deg,var(--bg1),var(--bg2));
      color:#e6eef8;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:24px;
    }

    .wrap{
      width:100%;
      max-width:980px;
      border-radius:20px;
      overflow:hidden;
      box-shadow: 0 20px 60px rgba(2,6,23,0.6);
      display:grid;
      grid-template-columns: 380px 1fr;
      gap:0;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid rgba(255,255,255,0.03);
    }

    /* Left column - profile / quick info */
    .side {
      padding:28px;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border-right:1px solid rgba(255,255,255,0.02);
      display:flex;
      flex-direction:column;
      gap:18px;
    }
    .profile {
      display:flex;
      gap:14px;
      align-items:center;
    }
    .avatar{
      width:84px;height:84px;border-radius:14px;
      background: linear-gradient(135deg,var(--accent1),var(--accent2));
      display:flex;align-items:center;justify-content:center;
      font-weight:700;color:#071126;font-size:28px;
      box-shadow: 0 8px 24px rgba(165,180,255,0.06);
    }
    .name{
      font-size:20px;font-weight:700;
    }
    .role{color:var(--muted);font-size:13px;margin-top:4px}

    .bio{
      background:var(--glass);
      padding:12px;border-radius:12px;color:var(--muted);font-size:14px;
    }

    .quicklinks{
      display:flex;flex-direction:column;gap:10px;
    }
    .link-btn{
      display:flex;align-items:center;gap:10px;
      padding:10px 12px;border-radius:12px;
      background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#021225;text-decoration:none;font-weight:700;
    }
    .muted-card{
      background:var(--card);border-radius:12px;padding:12px;font-size:14px;color:var(--muted)
    }

    /* Right column - chat UI */
    .chatbox{
      padding:22px;display:flex;flex-direction:column;height:640px;
      gap:12px;
    }
    .chat-header{
      display:flex;align-items:center;justify-content:space-between;
      gap:12px;
    }
    .chat-title{
      display:flex;gap:12px;align-items:center;
    }
    .bot-round{
      width:44px;height:44px;border-radius:10px;background:linear-gradient(135deg,var(--accent2),var(--accent1));
      display:flex;align-items:center;justify-content:center;font-weight:800;color:#081026;
      box-shadow:0 10px 30px rgba(0,0,0,0.25);
    }
    .title-text{
      font-weight:700;font-size:18px;
    }
    .title-sub{font-size:13px;color:var(--muted)}

    .chat-area {
      flex:1; overflow:auto; padding:10px; border-radius:10px;
      background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border:1px solid rgba(255,255,255,0.02);
    }
    .msg{display:flex;gap:12px;margin:10px 8px;align-items:flex-start}
    .msg .bubble{
      max-width:78%; padding:12px 14px;border-radius:12px;font-size:14px;line-height:1.45;
    }
    .msg.bot .bubble{ background:var(--glass-strong); color:#eaf6ff; border-bottom-left-radius:6px; }
    .msg.user{justify-content:flex-end}
    .msg.user .bubble{ background:linear-gradient(90deg,var(--accent1),var(--accent2)); color:#021225; border-bottom-right-radius:6px; }

    .examples{display:flex;gap:8px;flex-wrap:wrap;margin-top:6px}
    .chip{padding:8px 12px;background:var(--card);color:var(--muted);border-radius:999px;font-weight:600;cursor:pointer}
    .chip:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(0,0,0,0.3)}

    .input-area{
      display:flex;gap:12px;align-items:center;padding-top:6px;
    }
    input[type="text"]{
      flex:1;padding:12px 14px;border-radius:12px;border:1px solid rgba(255,255,255,0.03);
      background:transparent;color:inherit;font-size:15px;
      outline:none;
    }
    button.send{
      padding:10px 16px;border-radius:12px;border:none;background:linear-gradient(90deg,var(--accent1),var(--accent2));
      color:#031226;font-weight:800;cursor:pointer;
    }
    .small{
      font-size:12px;color:var(--muted)
    }
    .footer{
      padding:14px;text-align:center;border-top:1px solid rgba(255,255,255,0.02);
      color:var(--muted);font-size:13px;
    }
    a.link-in-text{color:var(--accent1);text-decoration:none;font-weight:700}

    /* responsive */
    @media (max-width:900px){
      .wrap{grid-template-columns:1fr; height:auto; max-width:720px}
      .chatbox{height:520px}
    }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <!-- LEFT: profile + quick links -->
    <aside class="side" aria-label="Profile and quick links">
      <div class="profile">
        <div class="avatar">AB</div>
        <div>
          <div class="name">Abhijeet (Abhi)</div>
          <div class="role">Self-taught developer ¬∑ Frontend ¬∑ Animations</div>
        </div>
      </div>

      <div class="bio">
        Hi ‚Äî this is <strong>Lex 01</strong>, Abhi‚Äôs friendly web assistant. Ask me about the portfolio, projects, or if you need a quick pick-me-up ‚Äî I‚Äôll help. üéÄ
      </div>

      <div class="quicklinks">
        <!-- editable links: change URLs below in the script if needed -->
        <a id="proj-btn" class="link-btn" href="#" target="_blank" rel="noopener noreferrer">üöÄ Open main project</a>
        <div class="muted-card">
          <div style="font-weight:700;margin-bottom:8px">My Little Projects</div>
          <div style="display:flex;flex-direction:column;gap:8px">
            <div class="small">‚Ä¢ Truth Theta ‚Äî live</div>
            <div class="small">‚Ä¢ Quote generator ‚Äî live</div>
            <div class="small">‚Ä¢ Many more ‚Äî in development</div>
          </div>
        </div>
      </div>

      <div style="margin-top:auto">
        <div style="font-weight:700;margin-bottom:8px">Quick tips</div>
        <div class="small">Try: <span class="chip" onclick="useExample('how to run project locally')">how to run project locally</span> <span class="chip" onclick="useExample('please cheer me up')">please cheer me up</span></div>
      </div>
    </aside>

    <!-- RIGHT: chat -->
    <main class="chatbox" aria-label="Chat with Lex 01">
      <div class="chat-header">
        <div class="chat-title">
          <div class="bot-round">L1</div>
          <div>
            <div class="title-text">Hey ‚Äî I am Lex 01 üéÄ‚ú®</div>
            <div class="title-sub">Abhi's friendly assistant ‚Äî ask about projects, code help or a pick-me-up</div>
          </div>
        </div>
        <div class="small">Online</div>
      </div>

      <div class="chat-area" id="chatArea" aria-live="polite">
        <!-- initial bot greeting -->
        <div class="msg bot">
          <div class="bubble">
            Hi ‚Äî I‚Äôm <strong>Lex 01</strong>, named after Abhi‚Äôs dog üêæ. I can help you with:
            <ul style="margin-top:8px;color:var(--muted);font-size:13px">
              <li>‚úîÔ∏è Quick info about Abhi‚Äôs portfolio & live projects</li>
              <li>‚úîÔ∏è Simple coding tips or where to find the code</li>
              <li>‚úîÔ∏è Uplifting phrases if you‚Äôre feeling low</li>
            </ul>
            <div style="margin-top:8px"><em>Try asking: "what projects are live?" or "I'm feeling low"</em></div>
          </div>
        </div>
      </div>

      <div class="examples" aria-hidden="false">
        <div class="chip" onclick="useExample('what projects are live')">what projects are live</div>
        <div class="chip" onclick="useExample('how can I use quote generator')">how can I use quote generator</div>
        <div class="chip" onclick="useExample('I am feeling low')">I am feeling low</div>
        <div class="chip" onclick="useExample('how to run project locally')">how to run project locally</div>
      </div>

      <div class="input-area" role="form" aria-label="Message input">
        <input id="userInput" type="text" placeholder="Ask Lex 01 ‚Äî e.g. 'what projects are live' (press Enter)" />
        <button id="sendBtn" class="send" aria-label="Send message">Send</button>
      </div>

      <div class="footer">Crafted with üíñ by Abhi üéÄ</div>
    </main>
  </div>

  <script>
    /*****************************************
     *  Lex 01 ‚Äî browser-based chatbot logic
     *  Single-file. No server required.
     *  Edit the `LINKS` object below to update project URLs.
     *****************************************/
    const LINKS = {
      portfolio: "https://dev-abhi.vercel.app/",       // change to your portfolio (if different)
      truthTheta: "https://truth-theta.vercel.app/",
      quoteApp: "https://abhi-quote.vercel.app/"
    };

    // update left "Open main project" button target (editable)
    document.getElementById('proj-btn').href = LINKS.truthTheta;

    // Chat mechanics (very small "AI-like" rule-based engine)
    const chatArea = document.getElementById('chatArea');
    const input = document.getElementById('userInput');
    const sendBtn = document.getElementById('sendBtn');

    // small vocabulary lists for sentiment detection / intent matching
    const cheerKeywords = ['low','sad','depressed','unhappy','down','stress','anxious','tired'];
    const helpKeywords = ['help','how','run','setup','deploy','build','error','issue','fix','debug'];
    const projectsKeywords = ['project','projects','live','website','link','links','portfolio'];
    const quoteKeywords = ['quote','inspire','writer','lyrics','quote generator','quote app'];

    // supportive phrases (when user is feeling low)
    const supportive = [
      "You're not alone ‚Äî small steps matter. Breathe in 4, hold 4, exhale 4. üåü",
      "Even the smallest tries are progress. I'm proud of you for showing up today. üíñ",
      "If you want, write one tiny thing you're grateful for ‚Äî I'll listen. ‚ú®",
      "Music helps sometimes. Put on a calm song and let the next minute be for you. üïØÔ∏è",
      "This feeling will pass. You are stronger than you think ‚Äî one moment at a time."
    ];

    // mini FAQ answers about portfolio & projects
    const faq = {
      "what projects are live": `Here are the live projects:\n\n‚Ä¢ Truth Theta ‚Äî ${LINKS.truthTheta}\n‚Ä¢ Quote generator ‚Äî ${LINKS.quoteApp}\n\nSome projects are private or still in development.`,
      "where is the code": `Most project files are on the GitHub repo connected to the portfolio. If you need a specific file (index.html or JS), ask me like "where is index.html for the quote generator?"`,
      "how to run project locally": `General steps:\n1) Clone the repo (git clone <repo-url>)\n2) cd into the project folder\n3) Open index.html in a browser or run a simple server (python -m http.server)\n4) Edit files and refresh to see changes.\nAsk me about a specific project and I can give tailored steps.`,
      "how can I use quote generator": `Open the Quote Generator link and press "Inspire me" (or the button). It shows original writing prompts & short lines for writers. You can copy and save any result.`,
    };

    // simple function to append message nodes
    function appendMessage(text, from='bot'){
      const wrap = document.createElement('div');
      wrap.className = 'msg ' + (from === 'bot' ? 'bot' : 'user');
      const bubble = document.createElement('div');
      bubble.className = 'bubble';
      // preserve newlines
      bubble.innerText = text;
      wrap.appendChild(bubble);
      chatArea.appendChild(wrap);
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    // small "AI" processing function (rules + fuzzy checks)
    function processMessage(raw){
      const msg = raw.trim();
      if(!msg) return;

      appendMessage(msg,'user');

      const lower = msg.toLowerCase();

      // direct FAQ exact matches (preferred)
      for(const key of Object.keys(faq)){
        if(lower.includes(key)) {
          setTimeout(()=>appendMessage(faq[key],'bot'), 400);
          return;
        }
      }

      // project related
      if (projectsKeywords.some(w => lower.includes(w))) {
        const reply = `Projects quick list:\n\n‚Ä¢ Truth Theta ‚Äî ${LINKS.truthTheta}\n‚Ä¢ Quote generator ‚Äî ${LINKS.quoteApp}\n\nIf you want the GitHub or deploy steps, ask "how to run project locally" or "where is repo".`;
        setTimeout(()=>appendMessage(reply,'bot'),420);
        return;
      }

      // help / coding keywords
      if (helpKeywords.some(w => lower.includes(w)) ) {
        setTimeout(()=>appendMessage(faq['how to run project locally'],'bot'),450);
        return;
      }

      // quote/creative keywords
      if (quoteKeywords.some(w => lower.includes(w)) ) {
        setTimeout(()=>appendMessage(`Open the Quote Generator: ${LINKS.quoteApp}\nClick "Inspire Me" to get a fresh prompt or line.`, 'bot'), 350);
        return;
      }

      // supportive sentiment detection
      if (cheerKeywords.some(w => lower.includes(w))) {
        // pick a supportive phrase
        const pick = supportive[Math.floor(Math.random()*supportive.length)];
        setTimeout(()=>appendMessage(pick,'bot'),400);
        // offer quick actions
        setTimeout(()=>appendMessage(`If you'd like a short phrase to share: type "give me a phrase".\nOr type "breathing" for a short breathing exercise.`, 'bot'),700);
        return;
      }

      // "give me a phrase" quick generator
      if (lower.includes('give me a phrase') || lower.includes('phrase') || lower.includes('uplift')) {
        const phrase = generateShortPhrase();
        setTimeout(()=>appendMessage(`‚ú® ${phrase}`, 'bot'), 300);
        return;
      }

      // breathing exercise
      if (lower.includes('breath') || lower.includes('breathing')) {
        const br = `Let's try a 30-second box breathing:\n1) Inhale 4s\n2) Hold 4s\n3) Exhale 4s\n4) Hold 4s\nRepeat 3 times ‚Äî I'm right here. üåü`;
        setTimeout(()=>appendMessage(br,'bot'), 300);
        return;
      }

      // fallback friendly reply
      const fallback = `Sorry I didn't get that exactly ‚Äî here's what I can help with:\n‚Ä¢ Ask "what projects are live"\n‚Ä¢ Ask "how to run project locally"\n‚Ä¢ Say "I am feeling low" for a little boost\n‚Ä¢ Or ask about the Quote Generator\n\nTry one of the suggestions above.`;
      setTimeout(()=>appendMessage(fallback,'bot'), 400);
    }

    // helper: tiny creative phrase generator for writers / low mood
    function generateShortPhrase(){
      const starts = [
        "Small lines, big heart.",
        "Write truth, however small.",
        "One honest sentence is more than a perfect page.",
        "A soft word can be a lighthouse.",
        "Ink is a mirror ‚Äî look into it."
      ];
      const mids = [
        "Share the little thing that made you smile today.",
        "Turn today‚Äôs quiet into a line someone needs to read.",
        "Find one word that feels like home and keep it.",
        "Short sentences can be loud with feeling.",
        "The imperfect draft is still progress."
      ];
      const ends = [
        "‚Äî keep going.",
        "‚Äî you're doing great.",
        "‚Äî it's enough.",
        "‚Äî hold it close.",
        "‚Äî share it someday."
      ];
      return `${starts[rand(starts.length)]} ${mids[rand(mids.length)]} ${ends[rand(ends.length)]}`;
    }
    function rand(n){ return Math.floor(Math.random()*n); }

    // wire up input
    sendBtn.addEventListener('click', ()=>{
      const val = input.value;
      if(!val) return;
      processMessage(val);
      input.value='';
      input.focus();
    });
    input.addEventListener('keydown', (e)=>{
      if(e.key === 'Enter') {
        e.preventDefault();
        sendBtn.click();
      }
    });

    // example chips click handler
    function useExample(text){
      input.value = text;
      input.focus();
    }

    // make chips clickable from HTML (global for onclick used in markup)
    window.useExample = useExample;

    // small memory: save chat to localStorage and restore
    function saveConversation(){
      const nodes = chatArea.querySelectorAll('.msg');
      const arr = [];
      nodes.forEach(n=>{
        const who = n.classList.contains('bot') ? 'bot' : 'user';
        const txt = n.querySelector('.bubble').innerText;
        arr.push({who,txt});
      });
      localStorage.setItem('lex_chat_log', JSON.stringify(arr));
    }
    function restoreConversation(){
      const raw = localStorage.getItem('lex_chat_log');
      if(!raw) return;
      try{
        const arr = JSON.parse(raw);
        chatArea.innerHTML = '';
        arr.forEach(item => {
          const node = document.createElement('div');
          node.className = 'msg ' + (item.who==='bot' ? 'bot' : 'user');
          const bubble = document.createElement('div'); bubble.className='bubble';
          bubble.innerText = item.txt;
          node.appendChild(bubble);
          chatArea.appendChild(node);
        });
        chatArea.scrollTop = chatArea.scrollHeight;
      }catch(e){ console.warn('restore failed',e) }
    }

    // autosave every few seconds
    setInterval(saveConversation, 3000);
    restoreConversation();

    // accessibility: focus the input
    input.focus();

    // Small helper: when user clicks project quick link, append a bot message (so chat knows)
    document.getElementById('proj-btn').addEventListener('click', (e)=>{
      appendMessage('Opening project link for you ‚Äî Truth Theta','bot');
      // allow link to open (it already has the href)
    });

    // small welcome animation messages
    setTimeout(()=>{ appendMessage("If you'd like a walkthrough of a project, ask 'walk me through Truth Theta' or 'explain quote generator'","bot"); }, 900);
    setTimeout(()=>{ appendMessage("You can also type 'give me a phrase' for a short line to share.", "bot"); }, 1500);

    // ensure external links open in new tab (some hosts block window.open)
    document.querySelectorAll('a[target="_blank"]').forEach(a=>{
      a.addEventListener('click', (ev)=>{ ev.stopPropagation(); });
    });

    // optional: add simple "explain code" helper for small code snippets (rule-based)
    function explainCodeSnippet(snippet){
      // VERY simple heuristics: look for "function" "let" "const" "document.getElementById"
      snippet = snippet.toLowerCase();
      if(snippet.includes('document.getelementbyid') || snippet.includes('getelementbyid')){
        return "This line selects an element from the page by its ID so you can read or change it. E.g. document.getElementById('myId').innerText = 'hi';";
      }
      if(snippet.includes('function ')) return "This defines a function ‚Äî a reusable block of code. Call the function by its name to run it.";
      if(snippet.includes('setinterval') || snippet.includes('settimeout')) return "These are timing functions: setInterval repeats code, setTimeout runs code once after a delay.";
      if(snippet.includes('fetch(')) return "fetch() is used to request data from a server / API. It returns a promise you handle with .then() or async/await.";
      return "Looks like general JS: if you paste a small snippet (1-6 lines), I can try to explain what it does.";
    }

    // Expose explain function for future enhancements (debug)
    window.explainCodeSnippet = explainCodeSnippet;

  </script>
</body>
</html>
