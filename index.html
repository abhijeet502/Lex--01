<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Lex 01 — Abhi's AI Chatbot</title>
<style>
  :root{
    --bg1:#0f172a; --bg2:#1e293b; --card: rgba(255,255,255,0.04);
    --accent1:#38bdf8; --accent2:#a78bfa; --muted:#94a3b8; --white:#f8fafc;
    --round:14px;
  }
  *{box-sizing:border-box}
  html,body{height:100%; margin:0; font-family: "Segoe UI", system-ui, -apple-system, "Poppins", sans-serif;}
  body{
    background: linear-gradient(135deg,var(--bg1),var(--bg2));
    color:var(--white);
    -webkit-font-smoothing:antialiased;
    -moz-osx-font-smoothing:grayscale;
    display:flex; align-items:center; justify-content:center; padding:24px;
  }

  /* container */
  .app {
    width:100%;
    max-width:980px;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
    border-radius:18px;
    padding:28px;
    box-shadow: 0 8px 40px rgba(2,6,23,0.7);
    position:relative;
    overflow:hidden;
  }

  /* header */
  .top {
    display:flex; gap:18px; align-items:center; margin-bottom:18px;
  }
  .logo {
    width:72px; height:72px; border-radius:14px;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    display:flex; align-items:center; justify-content:center;
    font-weight:700; color:#022; font-size:22px;
    box-shadow: 0 8px 24px rgba(163,0,255,0.08);
  }
  .title h1 { font-size:20px; margin:0; letter-spacing:0.2px; }
  .title p { margin:4px 0 0; color:var(--muted); font-size:13px; }

  /* chat + side */
  .main {
    display:grid; grid-template-columns: 1fr 320px; gap:20px;
  }
  @media (max-width:880px){ .main{ grid-template-columns: 1fr; } .side{order:2;} }

  /* chat area */
  .chat {
    background: transparent;
    border-radius:12px;
    padding:16px;
    min-height:420px;
    display:flex; flex-direction:column;
  }
  .messages { flex:1; overflow:auto; padding-right:8px; }
  .msg {
    max-width:78%;
    margin:10px 0;
    padding:12px 14px;
    border-radius:12px;
    line-height:1.4;
    font-size:15px;
  }
  .msg.user { background: linear-gradient(90deg,#111827,#0b1220); color:var(--white); margin-left:auto; border-bottom-right-radius:6px; }
  .msg.bot { background: var(--card); color:var(--white); border-bottom-left-radius:6px; }

  .hint { color:var(--muted); font-size:13px; margin-top:6px; }

  /* input */
  .composer {
    display:flex; gap:10px; margin-top:12px; align-items:center;
  }
  .composer input {
    flex:1; padding:12px 14px; border-radius:12px; border:1px solid rgba(255,255,255,0.04);
    background: rgba(255,255,255,0.02); color:var(--white); outline:none;
  }
  .composer button {
    background: linear-gradient(90deg,var(--accent1),var(--accent2));
    border:none; color:#022; padding:10px 16px; border-radius:12px; font-weight:700;
    cursor:pointer;
  }
  .composer button:active{ transform:translateY(1px) }

  /* side panel */
  .side {
    background: var(--card);
    border-radius:12px;
    padding:16px;
    color:var(--white);
  }
  .side h3{ margin:0 0 8px 0; }
  .side p{ color:var(--muted); font-size:13px; margin:0 0 10px 0; }

  .quick a {
    display:block;
    background: linear-gradient(90deg,var(--accent1),var(--accent2));
    color:#022; padding:10px 12px; border-radius:10px; margin-bottom:10px;
    text-decoration:none; font-weight:700;
  }

  .links { margin-top:12px }
  .links a { color:var(--accent1); display:block; margin-bottom:6px; text-decoration:none; font-weight:600; }

  /* footer */
  .foot { text-align:center; margin-top:14px; color:var(--muted); font-size:13px; }

  /* small helpers */
  .small { font-size:13px; color:var(--muted) }
</style>
</head>
<body>

<div class="app" role="application" aria-label="Lex 01 Chatbot">
  <div class="top">
    <div class="logo">Lx</div>
    <div class="title">
      <h1>Hey — I’m Lex 01 🎀✨</h1>
      <p>Abhi’s friendly helper. Ask about the site, projects, or if you need a mood lift.</p>
    </div>
  </div>

  <div class="main">
    <!-- Chat column -->
    <div class="chat" aria-live="polite">
      <div class="messages" id="messages">
        <!-- initial bot greeting -->
        <div class="msg bot"><strong>Lex 01:</strong> Hi — I’m Lex 01, Abhi’s AI helper (named after his pup 🐶). I can explain the website, share project links, or offer kind words when you’re feeling low. Try asking: “what projects?”, “truth-theta”, or “I’m feeling sad”.</div>
      </div>

      <div class="composer" role="search">
        <input id="input" placeholder="Type a question — e.g. 'what projects' or 'I feel sad'"/>
        <button id="sendBtn">Send</button>
      </div>
      <div class="hint small">Pro tip: ask things like “how to run the project”, “what is Truth Theta”, or say “I’m feeling low”.</div>
    </div>

    <!-- Side panel -->
    <aside class="side" aria-hidden="false">
      <h3>Quick actions</h3>
      <p>Tap a button to try sample questions.</p>

      <div class="quick">
        <a href="#" data-sample="what projects">What projects do you have?</a>
        <a href="#" data-sample="tell me about truth theta">Tell me about Truth Theta</a>
        <a href="#" data-sample="i feel sad">I feel sad</a>
        <a href="#" data-sample="motivate me">Motivate me</a>
      </div>

      <div class="links">
        <p class="small">Live project</p>
        <a href="https://truth-theta.vercel.app/" target="_blank">🚀 Truth Theta (live)</a>
        <a href="https://abhi-quote.vercel.app/" target="_blank">✨ Writer Quote Generator</a>
        <p class="small" style="margin-top:10px">Other</p>
        <div class="small">🔒 Some private projects — in progress</div>
        <div class="small">🔧 More coming — stay tuned</div>
      </div>

      <div style="margin-top:12px">
        <p class="small">Need more? Ask “contact” to get Abhi’s Insta link.</p>
      </div>
    </aside>
  </div>

  <div class="foot">Crafted with 💖 by Abhi 🎀</div>
</div>

<script>
/*
  Lex 01 — Smart offline chatbot
  * Keyword + pattern matching
  * Varied reply templates to avoid repetition
  * Simple project-help and empathy responses
  * To enable real AI later: replace fetchRespond() with a call to an API and return the text
*/

// --- Response data (lots of variants so replies feel natural) ---
const RESPONSE_VARIANTS = {
  greet: [
    "Hey — I'm Lex 01! 👋 I'm Abhi's friendly helper. Ask me about the site, projects, or tell me how you're feeling.",
    "Hi there! Lex 01 at your service 🎀 — I can explain the projects, help with basic dev questions, or offer a kind word.",
    "Hello! I'm Lex 01 — named after Abhi's dog 🐶. Ask me anything about the portfolio or say 'I'm sad' for a supportive reply."
  ],

  projectsIntro: [
    "Abhi keeps a few projects here — quick list: Truth Theta (live), a Writer's Quote Generator, plus private and in-dev projects.",
    "You can see Truth Theta (live) and a quote generator. Some projects are private and others are still in development."
  ],

  truthTheta: [
    "Truth Theta is a small practice site Abhi built — it's live at the button on the right. It's a demo of UI + interactivity.",
    "Truth Theta is one of Abhi's practice projects. It's hosted live; click the project link on the right to open it."
  ],

  howToRun: [
    "Most small projects in this portfolio are static: open `index.html` locally or deploy to Vercel — upload the repo and choose 'Other' as preset.",
    "To run a static site: put `index.html` in your repo root and deploy to Vercel. For JS projects, ensure any assets are in an `assets/` folder."
  ],

  contact: [
    "You can connect with Abhi on Instagram: https://instagram.com/__abhiiii_92 — he loves building things and meeting other devs.",
    "Abhi's Insta: https://instagram.com/__abhiiii_92 — reach out for collabs or just say hi!"
  ],

  encourage: [
    "Hey — it's okay to have a hard day. Your feelings are real. Take a breath, maybe step away for 10 minutes, and come back gently.",
    "You're allowed to pause and rest. Small steps forward are still progress — even reading this is a good step.",
    "If you're feeling low, try writing one sentence about it. Sometimes putting it down helps clear the mind."
  ],

  upliftVariants: [
    "You are worthy of kindness — especially from yourself.",
    "Even tiny wins matter. Celebrate one small thing you did today.",
    "You’ve got talents and time to learn. One small practice session is better than none.",
    "If words are heavy, breathe and remember: you are not alone in this."
  ],

  emotionalActions: [
    "If it helps, try writing the line: 'I did my best today' into a note. Keep it as a small reminder.",
    "Listen to a song you like, take a short walk, or do one thing that makes you smile for 5 minutes.",
    "Write a 4-word gratitude list. That tiny habit slowly builds resilience."
  ],

  fallback: [
    "I’m not sure about that yet — ask me about Projects, Truth Theta, running a project, or say you’re feeling sad and I’ll help.",
    "Sorry, I don’t have that exact info. Try 'what projects' or 'how to run a project' or 'I feel sad'."
  ]
};

// small utility: pick random
function pick(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

// message helper: append
function appendMessage(text, who='bot'){
  const container = document.getElementById('messages');
  const div = document.createElement('div');
  div.className = 'msg ' + (who==='user' ? 'user' : 'bot');
  div.innerHTML = (who==='bot' ? '<strong>Lex 01:</strong> ' : '<strong>You:</strong> ') + ' ' + escapeHtml(text);
  container.appendChild(div);
  container.scrollTop = container.scrollHeight;
}

// escape to prevent any HTML injection (not strictly necessary but safe)
function escapeHtml(str){
  return String(str).replace(/&/g,'&amp;').replace(/</g,'&lt;').replace(/>/g,'&gt;');
}

// main respond function — returns text (or Promise resolving to text if you later use API)
async function fetchRespond(userText){
  // normalize
  const t = userText.trim().toLowerCase();

  // tiny sentiment/keyword checks
  const sadKeywords = ['sad','depressed','down','low','cry','lost','unhappy','lonely','hurt'];
  const projectKeywords = ['project','projects','truth','theta','truth-theta','truth theta','site','website','deploy','vercel'];
  const runKeywords = ['run','how to run','install','setup','deploy','deploy to vercel'];
  const contactKeywords = ['contact','instagram','insta','reach','email','collab','collabs','friend'];
  const helloKeywords = ['hi','hello','hey','hiya','sup','greetings','yo'];
  const motivateKeywords = ['motivate','motivation','encourage','uplift','inspire','inspiration'];
  const quoteKeywords = ['quote','writer','lyrics','lyric','inspire','inspiration'];

  // detect if user asks a question (simple)
  if (helloKeywords.some(k => t.includes(k))){
    return pick(RESPONSE_VARIANTS.greet);
  }

  if (projectKeywords.some(k => t.includes(k))){
    if (t.includes('truth')) return pick(RESPONSE_VARIANTS.truthTheta);
    return pick(RESPONSE_VARIANTS.projectsIntro);
  }

  if (runKeywords.some(k => t.includes(k))){
    return pick(RESPONSE_VARIANTS.howToRun);
  }

  if (contactKeywords.some(k => t.includes(k))){
    return pick(RESPONSE_VARIANTS.contact);
  }

  if (sadKeywords.some(k => t.includes(k))){
    // choose a warm empathetic reply combined with an action tip
    const base = pick(RESPONSE_VARIANTS.encourage);
    const tip = pick(RESPONSE_VARIANTS.emotionalActions);
    const uplift = pick(RESPONSE_VARIANTS.upliftVariants);
    return `${base}\n\n${uplift}\n\nTry this: ${tip}`;
  }

  if (motivateKeywords.some(k => t.includes(k))){
    return `${pick(RESPONSE_VARIANTS.upliftVariants)}\n\nSmall step idea: try coding for 15 minutes — something tiny you can finish today.`;
  }

  if (quoteKeywords.some(k => t.includes(k))){
    // quick inline short motivational text for writers/readers
    const mini = [
      "Write one honest line today — that’s a start.",
      "Use your notebook as a friend, not a judge — draft freely.",
      "If you’re a lyricist, think of the emotion you want to evoke first, words come next."
    ];
    return pick(mini);
  }

  // fallback: maybe the user asks technical Q with keywords like "error"
  if (t.includes('error') || t.includes('bug') || t.includes('help')){
    return "If you're seeing an error, tell me the error message text and which file (index.html, script.js, etc.). I can give basic debugging tips.";
  }

  // If none matched: respond with an intelligent fallback + suggestion
  return pick(RESPONSE_VARIANTS.fallback);
}

// UI wiring
document.getElementById('sendBtn').addEventListener('click', sendInput);
document.getElementById('input').addEventListener('keydown', function(e){
  if (e.key === 'Enter') sendInput();
});

// quick sample links
document.querySelectorAll('.quick a').forEach(a=>{
  a.addEventListener('click', (ev)=>{
    ev.preventDefault();
    const sample = a.dataset.sample;
    document.getElementById('input').value = sample;
    sendInput();
  });
});

async function sendInput(){
  const input = document.getElementById('input');
  const text = input.value.trim();
  if (!text) return;
  appendMessage(text, 'user');
  input.value = '';
  appendMessage("Thinking...", 'bot');
  // wait a little to feel natural
  await delay(350 + Math.random()*600);

  // remove last "Thinking..." message
  const msgs = document.getElementById('messages');
  const children = Array.from(msgs.children);
  if(children.length){
    const last = children[children.length-1];
    if(last && last.textContent && last.textContent.includes('Thinking...')) last.remove();
  }

  // get reply (could be async)
  let reply;
  try {
    reply = await fetchRespond(text);
  } catch(err){
    reply = "Oops, I had trouble thinking — try again or ask a simpler question.";
  }

  appendMessage(reply, 'bot');
}

// small util
function delay(ms){ return new Promise(res => setTimeout(res, ms)); }

/* --- OPTIONAL: enable API mode ---
 If you later want to call OpenAI or another model:
 1) Replace fetchRespond(userText) with an async function that calls your server or fetches OpenAI directly.
 2) If you call OpenAI directly from the browser, you must proxy your key (not safe client-side).
 3) Best practice: create a tiny serverless function on Vercel that holds the API key,
    call that endpoint from here (POST the input), and return the generated text.
*/
</script>
</body>
</html>
